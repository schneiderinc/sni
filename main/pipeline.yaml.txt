pool:
  vmImage: 'vs2017-win2016'
  demands:
  - java
  - JDK
  - ANDROID_HOME
  
steps:
- task: NodeTool@0
  inputs:
    versionSpec: '10.x'
  displayName: 'Install Node.js'
  
- task: CmdLine@1
  displayName: 'Run npm'
  inputs:
    filename: npm
    arguments: 'install -g ionic'

- task: CmdLine@1
  displayName: 'Run npm install --g @capacitor/core @capacitor/cli'
  inputs:
    filename: npm
    arguments: 'install --g @capacitor/core @capacitor/cli'
	
- script: |
    ionic build
	npx cap init
  displayName: 'npm install and build'

- task: PublishBuildArtifacts@1
  displayName: 'Publish Artifact: drop'
  enabled: false